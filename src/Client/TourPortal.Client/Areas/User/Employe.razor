@page "/user/employe"
@using TourPortal.Infrastructure.Shared.Models.Hotel

<PageModelComponent>
    <PageHeader>
        <h3>Служители @testEvent</h3>
    </PageHeader>
    <PageBody>
        <div class="card card border-primary mb-3 p-2">
            <div class="d-md-flex flex-column">
                <div class="col-12">
                    <RegisterEmploye EmployeHasAdded="@EmployeHasAdded" />
                </div>
            </div>
        </div>
        @if (employes.Any())
        {
            <div class="card card border-primary mb-3 p-2">
                <TableComponent Items="employes">
                    <Columns>
                        <ColumnComponent Title="Име"/>
                        <ColumnComponent Title="Фамилия"/>
                        <ColumnComponent Title="Град"/>
                        <ColumnComponent Title="Адрес"/>
                        <ColumnComponent Title="Телефон"/>
                    </Columns>
                    <Row Context="employeModel">
                        <td class="text-center">@employeModel.FirstName</td>
                        <td class="text-center">@employeModel.LastName</td>
                        <td class="text-center">@employeModel.Sity</td>
                        <td class="text-center">@employeModel.Address</td>
                        <td class="text-center">@employeModel.PhoneNumber</td>
                    </Row>
                </TableComponent>
            </div>
        }
    </PageBody>
</PageModelComponent>
@code {
    private GetEmployesResponse employeModel = new GetEmployesResponse();
    private List<GetEmployesResponse> employes = new List<GetEmployesResponse>();
    private string testEvent = string.Empty;

    private void EmployeHasAdded(string arg)
    {
        if (!string.IsNullOrEmpty(arg))  
        {
            testEvent = arg;
        }
    }
}
